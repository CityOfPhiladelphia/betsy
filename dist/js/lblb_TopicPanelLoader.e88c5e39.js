(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lblb_TopicPanelLoader"],{"1a43":function(e,t,a){"use strict";var r=a("918c"),s=a.n(r);s.a},"2fdb":function(e,t,a){"use strict";var r=a("5ca1"),s=a("d2c8"),i="includes";r(r.P+r.F*a("5147")(i),"String",{includes:function(e){return!!~s(this,e,i).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},4388:function(e,t,a){},5147:function(e,t,a){var r=a("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[r]=!1,!"/./"[e](t)}catch(s){}}return!0}},"66ab":function(e,t,a){},6762:function(e,t,a){"use strict";var r=a("5ca1"),s=a("c366")(!0);r(r.P,"Array",{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")("includes")},"918c":function(e,t,a){},a692:function(e,t,a){"use strict";var r=a("4388"),s=a.n(r);s.a},bc7a:function(e,t,a){"use strict";a.r(t);var r,s,i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:this.topicPanelContainerClass,attrs:{id:"topic-panel-container"}},[a("div",{staticClass:"cell"},[a("div",{staticClass:"forms-header"},[a("form",{staticClass:"om-search-control-input-tags",on:{submit:function(t){return t.preventDefault(),e.handleTagsFilterFormX(t)},keydown:e.preventEnter}},[a("div",{staticClass:"input-group text-filter"},[a("span",{staticClass:"input-group-label input-font"},[e._v("Filter:")]),a("input",{staticClass:"input-type",attrs:{type:"text"},on:{keyup:e.handleTagsFilterFormKeyup}}),""!=this.$store.state.layers.inputTagsFilter?a("div",{staticClass:"input-group-button"},[e._m(0)]):e._e()])])]),a("div",{staticClass:"topics-container cell medium-cell-block-y",attrs:{id:"topics-container"}},[a("form",{attrs:{action:"#/"}},[a("fieldset",{staticClass:"options"},e._l(this.currentWmLayers,function(e,t){return a("checkbox",{key:e.id,attrs:{layer:e.layer,layerName:e.title,layerId:e.id,layerDefinition:e.rest.layerDefinition,opacity:e.opacity,legend:e.legend}})}),1)])])])])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"om-search-control-button"},[a("i",{staticClass:"fa fa-times fa-lg"})])}],o=(a("6762"),a("2fdb"),a("5d73")),l=a.n(o),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"div-row"},[e.bennyId?a("a",{attrs:{href:"http://metadata.phila.gov/#home/representationdetails/"+this.bennyId,target:"_blank"}},[a("span",[a("font-awesome-icon",{staticClass:"fa-2x",attrs:{icon:"info-circle"}})],1)]):e._e(),a("input",{class:{disabled:e.shouldBeDisabled},attrs:{id:"checkbox-"+e.layerName,type:"checkbox",layerid:e.layerId},domProps:{checked:e.webMapActiveLayers.includes(e.layerName)},on:{click:e.checkboxToggle}}),a("label",{class:{disabled:e.shouldBeDisabled,"label-text":!0},attrs:{for:"checkbox-"+e.layerName}},[a("div",{staticClass:"layer-name"},[e._v(e._s(e.layerName))])])]),this.$store.state.map.webMapActiveLayers.includes(e.layerName)?a("slider",{attrs:{layer:e.layer,layerName:e.layerName,layerId:e.layerId,opacity:e.opacity}}):e._e()],1)},u=[],p=(a("a481"),a("a4bb")),d=a.n(p),y=a("7618"),h={props:{slots:{type:Object,default:function(){return{}}},options:{type:Object,default:function(){return{}}},item:{type:Object,default:function(){return{}}}},beforeCreate:function(){},created:function(){},computed:{nullValue:function(){var e=this.options||{};return e.nullValue}},methods:{evaluateSlot:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!e)return e;var s,i=Object(y["a"])(e);if("function"===i){var n=this.$store.state,o=this.$controller,c=e,u=this.item;s=u?c(n,u,o):c(n)}else s=e;if(!1===s);else if(!s)return r;var p=!0,h=!1,f=void 0;try{for(var m,v=function(){var e=m.value,a=t.$config.transforms[e],r=void 0,i=a.globals;i&&(r=d()(window).filter(function(e){return i.includes(e)}).reduce(function(e,t){return e[t]=window[t],e},{}));var n=a.transform;s=n(s,r)},b=l()(a);!(p=(m=b.next()).done);p=!0)v()}catch(g){h=!0,f=g}finally{try{p||null==b.return||b.return()}finally{if(h)throw f}}return s}}},f=h,m=a("2877"),v=Object(m["a"])(f,r,s,!1,null,null,null),b=(v.exports,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slider-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.opa,expression:"opa"}],staticClass:"slider",attrs:{type:"range",min:"1",max:"100",step:"1"},domProps:{value:e.opa},on:{__r:function(t){e.opa=t.target.value}}})])}),g=[],w={props:["layer","layerName","layerId","opacity"],data:function(){return{opa:100*this.$props.opacity}},watch:{opa:function(e){var t={layerName:this.$props.layerName,opa:e/100};this.$store.commit("setWebMapLayersOpacity",t)}},created:function(){},computed:{},methods:{}},$=w,L=(a("d44d"),Object(m["a"])($,b,g,!1,null,null,null)),C=L.exports,M={components:{Slider:C},props:["layer","layerName","layerId","layerDefinition","opacity","legend","tags"],data:function(){return{opa:100*this.$props.opacity}},watch:{opa:function(e){var t={layerName:this.$props.layerName,opa:e/100};this.$store.commit("setWebMapLayersOpacity",t)},shouldBeDisabled:function(e){this.webMapActiveLayers.includes(this.$props.layerName)&&!0===e?this.removeFromWebMapDisplayedLayers():this.webMapActiveLayers.includes(this.$props.layerName)&&!1===e&&this.addToWebMapDisplayedLayers()}},computed:{matchingTags:function(){var e=[];if(null!==this.$props.tags&&""!==this.inputTagsFilter){var t=!0,a=!1,r=void 0;try{for(var s,i=l()(this.$props.tags);!(t=(s=i.next()).done);t=!0){var n=s.value;n.toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&e.push(n)}}catch(o){a=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(a)throw r}}}return e},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},scale:function(){return this.$store.state.map.scale},shouldBeDisabled:function(){var e=this.$props.layerDefinition;return!!e&&(e.minScale?this.scale>e.minScale:void 0)},layerUrls:function(){return this.$store.state.layers.layerUrls},bennyEndpoints:function(){return this.$store.state.bennyEndpoints},url:function(){return this.layerUrls[this.$props.layerName]},bennyId:function(){if(d()(this.bennyEndpoints).length>0){var e=this.bennyEndpoints[this.url];return e}return" "},webMapUrlLayer:function(){return this.$store.state.map.webMapUrlLayer},webMapActiveLayers:function(){return this.$store.state.map.webMapActiveLayers},webMapDisplayedLayers:function(){return this.$store.state.map.webMapDisplayedLayers},webMapGeoJson:function(){return this.$store.state.map.webMapGeoJson}},methods:{trim:function(e){return(e||"").replace(/^\s+|\s+$/g,"")},checkboxToggle:function(e){console.log("checkboxToggle",e.target,e.target.id,e.target.checked);var t=this.webMapUrlLayer,a=this.webMapActiveLayers,r=this.webMapDisplayedLayers,s=e.target.id.replace("checkbox-","");if(e.target.checked)console.log("target checked, targetReplace:",s),a.push(s),r.push(s),1===a.length&&this.$store.commit("setWebMapUrlLayer",s);else{console.log("target not checked");var i=a.indexOf(s);i>=0&&a.splice(i,1);var n=r.indexOf(s);n>=0&&r.splice(n,1),t===s&&this.$store.commit("setWebMapUrlLayer",null)}this.$store.commit("setWebMapActiveLayers",a),this.$store.commit("setWebMapDisplayedLayers",r)},removeFromWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers,t=e.indexOf(this.$props.layerName);t>=0&&e.splice(t,1),this.$store.commit("setWebMapDisplayedLayers",e)},addToWebMapDisplayedLayers:function(){var e=this.webMapDisplayedLayers;e.push(this.$props.layerName),this.$store.commit("setWebMapDisplayedLayers",e)}}},F=M,x=(a("a692"),Object(m["a"])(F,c,u,!1,null,"00f8a7a8",null)),k=x.exports,T={components:{Checkbox:k},computed:{windowWidth:function(){return this.$store.state.windowWidth},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},topicPanelContainerClass:function(){return this.fullScreenMapEnabled?"cell medium-1 small-order-2 medium-order-1":this.windowWidth>=950?"cell medium-8 small-order-1 small-24 medium-order-2":"cell medium-10 small-order-1 small-24 medium-order-2"},categories:function(){return this.$store.state.map.categories},selectedCategory:function(){return this.$store.state.map.selectedCategory},scale:function(){return this.$store.state.map.scale},currentWmLayers:function(){var e=this.$store.state.map.webMapLayersAndRest,t=[],a=!0,r=!1,s=void 0;try{for(var i,n=l()(e);!(a=(i=n.next()).done);a=!0){var o=i.value;if(o.tags)(o.title.toLowerCase().includes(this.inputLayerFilter.toLowerCase())&&o.tags.join().toLowerCase().includes(this.inputTagsFilter.toLowerCase())&&o.category.includes(this.selectedCategory)||this.$store.state.map.webMapActiveLayers.includes(o.title))&&t.push(o);else{if(""!==this.inputTagsFilter)continue;(o.title.toLowerCase().includes(this.inputLayerFilter.toLowerCase())&&o.category.includes(this.selectedCategory)||this.$store.state.map.webMapActiveLayers.includes(o.title))&&t.push(o)}}}catch(c){r=!0,s=c}finally{try{a||null==n.return||n.return()}finally{if(r)throw s}}return t},inputLayerFilter:function(){return this.$store.state.layers.inputLayerFilter},inputTagsFilter:function(){return this.$store.state.layers.inputTagsFilter},windowSize:function(){return this.$store.state.windowSize}},methods:{handleLayerFilterFormKeyup:function(e){var t=e.target.value;this.$store.commit("setInputLayerFilter",t)},handleLayerFilterFormX:function(e){e.target[0].value="",this.$store.commit("setInputLayerFilter","")},handleTagsFilterFormKeyup:function(e){var t=e.target.value;this.$store.commit("setInputTagsFilter",t)},handleTagsFilterFormX:function(e){e.target[0].value="",this.$store.commit("setInputTagsFilter","")},didSelectCategory:function(e){var t=e.target.selectedIndex;this.$store.commit("setSelectedCategory",this.categories[t])},preventEnter:function(e){13===e.keyCode&&e.preventDefault()}}},D=T,N=(a("1a43"),Object(m["a"])(D,i,n,!1,null,"4fe5f91e",null));t["default"]=N.exports},d2c8:function(e,t,a){var r=a("aae3"),s=a("be13");e.exports=function(e,t,a){if(r(t))throw TypeError("String#"+a+" doesn't accept regex!");return String(s(e))}},d44d:function(e,t,a){"use strict";var r=a("66ab"),s=a.n(r);s.a}}]);
//# sourceMappingURL=lblb_TopicPanelLoader.e88c5e39.js.map