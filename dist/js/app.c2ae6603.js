(function(e){function t(t){for(var i,a,_=t[0],c=t[1],l=t[2],s=0,m=[];s<_.length;s++)a=_[s],r[a]&&m.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);p&&p(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),o()}function o(){for(var e,t=0;t<n.length;t++){for(var o=n[t],i=!0,a=1;a<o.length;a++){var _=o[a];0!==r[_]&&(i=!1)}i&&(n.splice(t--,1),e=c(c.s=o[0]))}return e}var i={},a={app:0},r={app:0},n=[];function _(e){return c.p+"js/"+({"lblb_MapPanelLoader~mbmb_pvm_PictometryWidget":"lblb_MapPanelLoader~mbmb_pvm_PictometryWidget",lblb_MapPanelLoader:"lblb_MapPanelLoader",mbmb_pvm_PictometryWidget:"mbmb_pvm_PictometryWidget",lblb_TopicPanelLoader:"lblb_TopicPanelLoader",mbmb_pvm_CyclomediaWidget:"mbmb_pvm_CyclomediaWidget",mbmb_pvm_PictometryLayer:"mbmb_pvm_PictometryLayer",mbmb_pvm_PictometryPngMarker:"mbmb_pvm_PictometryPngMarker",mbmb_pvm_PictometryViewCone:"mbmb_pvm_PictometryViewCone",lbmp_pvm_BasemapTooltip:"lbmp_pvm_BasemapTooltip",lbmp_pvm_CircleMarker:"lbmp_pvm_CircleMarker",lbmp_pvm_CyclomediaRecordingCircle:"lbmp_pvm_CyclomediaRecordingCircle",lbmp_pvm_CyclomediaSvgViewConeMarker:"lbmp_pvm_CyclomediaSvgViewConeMarker",lbmp_pvm_EsriDynamicMapLayer:"lbmp_pvm_EsriDynamicMapLayer",lbmp_pvm_EsriFeatureLayer:"lbmp_pvm_EsriFeatureLayer",lbmp_pvm_EsriTiledMapLayer:"lbmp_pvm_EsriTiledMapLayer",lbmp_pvm_EsriTiledOverlay:"lbmp_pvm_EsriTiledOverlay",lbmp_pvm_Geojson:"lbmp_pvm_Geojson",lbmp_pvm_MapAddressCandidateList:"lbmp_pvm_MapAddressCandidateList",lbmp_pvm_ModalAbout:"lbmp_pvm_ModalAbout",lbmp_pvm_PngMarker:"lbmp_pvm_PngMarker",lbmp_pvm_VectorMarker:"lbmp_pvm_VectorMarker"}[e]||e)+"."+{"lblb_MapPanelLoader~mbmb_pvm_PictometryWidget":"9509fd0b",lblb_MapPanelLoader:"8f37a447",mbmb_pvm_PictometryWidget:"2126256b",lblb_TopicPanelLoader:"e88c5e39",mbmb_pvm_CyclomediaWidget:"5241be2a",mbmb_pvm_PictometryLayer:"1d6e8c7f",mbmb_pvm_PictometryPngMarker:"f2c473c8",mbmb_pvm_PictometryViewCone:"7713ba1f",lbmp_pvm_BasemapTooltip:"16ff5997",lbmp_pvm_CircleMarker:"cfd550fc",lbmp_pvm_CyclomediaRecordingCircle:"9e4c0920",lbmp_pvm_CyclomediaSvgViewConeMarker:"48eb511a",lbmp_pvm_EsriDynamicMapLayer:"0868ac79",lbmp_pvm_EsriFeatureLayer:"73ad859e",lbmp_pvm_EsriTiledMapLayer:"b335a010",lbmp_pvm_EsriTiledOverlay:"564402e4",lbmp_pvm_Geojson:"ae1baf9e",lbmp_pvm_MapAddressCandidateList:"a6d7bc01",lbmp_pvm_ModalAbout:"dfc99ba0",lbmp_pvm_PngMarker:"8cc46862",lbmp_pvm_VectorMarker:"21437b13"}[e]+".js"}function c(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,c),o.l=!0,o.exports}c.e=function(e){var t=[],o={lblb_MapPanelLoader:1,mbmb_pvm_PictometryWidget:1,lblb_TopicPanelLoader:1,mbmb_pvm_CyclomediaWidget:1,lbmp_pvm_BasemapTooltip:1,lbmp_pvm_CyclomediaSvgViewConeMarker:1,lbmp_pvm_EsriDynamicMapLayer:1,lbmp_pvm_EsriTiledOverlay:1,lbmp_pvm_MapAddressCandidateList:1,lbmp_pvm_ModalAbout:1,lbmp_pvm_VectorMarker:1};a[e]?t.push(a[e]):0!==a[e]&&o[e]&&t.push(a[e]=new Promise(function(t,o){for(var i="css/"+({"lblb_MapPanelLoader~mbmb_pvm_PictometryWidget":"lblb_MapPanelLoader~mbmb_pvm_PictometryWidget",lblb_MapPanelLoader:"lblb_MapPanelLoader",mbmb_pvm_PictometryWidget:"mbmb_pvm_PictometryWidget",lblb_TopicPanelLoader:"lblb_TopicPanelLoader",mbmb_pvm_CyclomediaWidget:"mbmb_pvm_CyclomediaWidget",mbmb_pvm_PictometryLayer:"mbmb_pvm_PictometryLayer",mbmb_pvm_PictometryPngMarker:"mbmb_pvm_PictometryPngMarker",mbmb_pvm_PictometryViewCone:"mbmb_pvm_PictometryViewCone",lbmp_pvm_BasemapTooltip:"lbmp_pvm_BasemapTooltip",lbmp_pvm_CircleMarker:"lbmp_pvm_CircleMarker",lbmp_pvm_CyclomediaRecordingCircle:"lbmp_pvm_CyclomediaRecordingCircle",lbmp_pvm_CyclomediaSvgViewConeMarker:"lbmp_pvm_CyclomediaSvgViewConeMarker",lbmp_pvm_EsriDynamicMapLayer:"lbmp_pvm_EsriDynamicMapLayer",lbmp_pvm_EsriFeatureLayer:"lbmp_pvm_EsriFeatureLayer",lbmp_pvm_EsriTiledMapLayer:"lbmp_pvm_EsriTiledMapLayer",lbmp_pvm_EsriTiledOverlay:"lbmp_pvm_EsriTiledOverlay",lbmp_pvm_Geojson:"lbmp_pvm_Geojson",lbmp_pvm_MapAddressCandidateList:"lbmp_pvm_MapAddressCandidateList",lbmp_pvm_ModalAbout:"lbmp_pvm_ModalAbout",lbmp_pvm_PngMarker:"lbmp_pvm_PngMarker",lbmp_pvm_VectorMarker:"lbmp_pvm_VectorMarker"}[e]||e)+"."+{"lblb_MapPanelLoader~mbmb_pvm_PictometryWidget":"31d6cfe0",lblb_MapPanelLoader:"8dd94bc4",mbmb_pvm_PictometryWidget:"6106e956",lblb_TopicPanelLoader:"51e471ae",mbmb_pvm_CyclomediaWidget:"037ff3ff",mbmb_pvm_PictometryLayer:"31d6cfe0",mbmb_pvm_PictometryPngMarker:"31d6cfe0",mbmb_pvm_PictometryViewCone:"31d6cfe0",lbmp_pvm_BasemapTooltip:"70b1c397",lbmp_pvm_CircleMarker:"31d6cfe0",lbmp_pvm_CyclomediaRecordingCircle:"31d6cfe0",lbmp_pvm_CyclomediaSvgViewConeMarker:"61dd27a4",lbmp_pvm_EsriDynamicMapLayer:"f86fb2e9",lbmp_pvm_EsriFeatureLayer:"31d6cfe0",lbmp_pvm_EsriTiledMapLayer:"31d6cfe0",lbmp_pvm_EsriTiledOverlay:"f86fb2e9",lbmp_pvm_Geojson:"31d6cfe0",lbmp_pvm_MapAddressCandidateList:"9a8fb592",lbmp_pvm_ModalAbout:"6d834d02",lbmp_pvm_PngMarker:"31d6cfe0",lbmp_pvm_VectorMarker:"dde6c4bb"}[e]+".css",r=c.p+i,n=document.getElementsByTagName("link"),_=0;_<n.length;_++){var l=n[_],s=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(s===i||s===r))return t()}var m=document.getElementsByTagName("style");for(_=0;_<m.length;_++){l=m[_],s=l.getAttribute("data-href");if(s===i||s===r)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var i=t&&t.target&&t.target.src||r,n=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");n.request=i,delete a[e],p.parentNode.removeChild(p),o(n)},p.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(p)}).then(function(){a[e]=0}));var i=r[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise(function(t,o){i=r[e]=[t,o]});t.push(i[2]=n);var l,s=document.createElement("script");s.charset="utf-8",s.timeout=120,c.nc&&s.setAttribute("nonce",c.nc),s.src=_(e),l=function(t){s.onerror=s.onload=null,clearTimeout(m);var o=r[e];if(0!==o){if(o){var i=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,n=new Error("Loading chunk "+e+" failed.\n("+i+": "+a+")");n.type=i,n.request=a,o[1](n)}r[e]=void 0}};var m=setTimeout(function(){l({type:"timeout",target:s})},12e4);s.onerror=s.onload=l,document.head.appendChild(s)}return Promise.all(t)},c.m=e,c.c=i,c.d=function(e,t,o){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(c.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)c.d(o,i,function(t){return e[t]}.bind(null,i));return o},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var m=0;m<l.length;m++)t(l[m]);var p=s;n.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"1e32":function(e,t,o){"use strict";var i=o("9a26"),a=o.n(i);a.a},"56d7":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("f751"),core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_object_assign__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_3__),vue__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2b0e"),axios__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__),_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("c0d6"),_util_config_mixin__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("e370"),_components_Layerboard_vue__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("f7e6"),_util_merge_deep__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("ac05"),_fa_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("91ec"),_fortawesome_vue_fontawesome__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("ad3d"),_philly_vue_datafetch_src_controller_index_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("bc53");function initLayerboard(clientConfig){var baseConfigUrl=clientConfig.baseConfig;return axios__WEBPACK_IMPORTED_MODULE_5___default.a.get(baseConfigUrl).then(function(response){var data=response.data,baseConfigFn=eval(data),gatekeeperKey=clientConfig.gatekeeperKey,baseConfig=baseConfigFn({gatekeeperKey:gatekeeperKey}),config=Object(_util_merge_deep__WEBPACK_IMPORTED_MODULE_9__["a"])(baseConfig,clientConfig);vue__WEBPACK_IMPORTED_MODULE_4__["a"].use(_util_config_mixin__WEBPACK_IMPORTED_MODULE_7__["a"],config);var store=Object(_store__WEBPACK_IMPORTED_MODULE_6__["a"])(config);vue__WEBPACK_IMPORTED_MODULE_4__["a"].use(_philly_vue_datafetch_src_controller_index_js__WEBPACK_IMPORTED_MODULE_12__["a"],{config:config,store:store}),vue__WEBPACK_IMPORTED_MODULE_4__["a"].component("font-awesome-icon",_fortawesome_vue_fontawesome__WEBPACK_IMPORTED_MODULE_11__["a"]);var vm=new vue__WEBPACK_IMPORTED_MODULE_4__["a"]({el:config.el||"#layerboard",render:function(e){return e(_components_Layerboard_vue__WEBPACK_IMPORTED_MODULE_8__["a"])},store:store})},function(e){console.error("AXIOS ERROR loading base config")})}__webpack_exports__["default"]=initLayerboard},"91ec":function(e,t,o){"use strict";o("c57c"),o("7093");var i=o("ecee"),a=o("cca2"),r=o("2771"),n=o("16a6"),_=o("6c88");i["d"].add(a["faInfoCircle"],r["faCheckSquare"],n["faFilter"],_["faSquare"]);i["d"]},"9a26":function(e,t,o){},ac05:function(e,t,o){"use strict";o.d(t,"a",function(){return p});var i=o("bd86"),a=o("a4bb"),r=o.n(a),n=(o("ac6a"),o("5176")),_=o.n(n),c=o("a745"),l=o.n(c),s=o("7618");function m(e){return e&&"object"===Object(s["a"])(e)&&!l()(e)&&null!==e}function p(e,t){var o=_()({},e);return m(e)&&m(t)&&r()(t).forEach(function(a){m(t[a])&&a in e?o[a]=p(e[a],t[a]):_()(o,Object(i["a"])({},a,t[a]))}),o}},c0d6:function(e,t,o){"use strict";o("cadf"),o("551c"),o("f751"),o("097d");var i=o("2b0e"),a=o("2f62"),r=function(){var e=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,t=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,o=navigator.userAgent||navigator.vendor||window.opera||"",i=e.test(o)||t.test(o.substr(0,4));return i},n=o("00b2"),_=o("bded"),c=o("472f"),l=o("ac05");function s(e){var t={isMobileOrTablet:r(),fullScreenMapEnabled:!1,bennyEndpoints:{},layers:{layerUrls:{},inputLayerFilter:"",inputTagsFilter:""},map:{scale:null,webMap:null,webMapUrlLayer:null,webMapActiveLayers:[],webMapDisplayedLayers:[],webMapLayersAndRest:[],intersectingFeatures:[],popupCoords:null,selectedPopupLayer:null,categories:[],selectedCategory:""},candidates:[],addressEntered:null,didToggleTopicsOn:!1,shouldShowTopics:!0,shouldShowMap:!0,windowWidth:0,route:null,modals:{keys:e.modals,open:""}},o={state:t,getters:{},mutations:{setIsMobileOrTablet:function(e,t){e.isMobileOrTablet=t},setFullScreenMapEnabled:function(e,t){e.fullScreenMapEnabled=t},setCategories:function(e,t){e.map.categories=t},setSelectedCategory:function(e,t){e.map.selectedCategory=t},setSelectedPopupLayer:function(e,t){e.map.selectedPopupLayer=t},setIntersectingFeatures:function(e,t){e.map.intersectingFeatures=t},setPopupCoords:function(e,t){e.map.popupCoords=t},setBennyEndpoints:function(e,t){e.bennyEndpoints=t},setLocation:function(e,t){e.map.location.lat=t.lat,e.map.location.lng=t.lng},setWatchPositionOn:function(e,t){e.map.watchPositionOn=t},setLayerUrls:function(e,t){e.layers.layerUrls=t},setInputLayerFilter:function(e,t){e.layers.inputLayerFilter=t},setInputTagsFilter:function(e,t){e.layers.inputTagsFilter=t},setMap:function(e,t){e.map.map=t.map},setWebMap:function(e,t){e.map.webMap=t},setWebMapUrlLayer:function(e,t){e.map.webMapUrlLayer=t},setWebMapActiveLayers:function(e,t){e.map.webMapActiveLayers=t},setWebMapDisplayedLayers:function(e,t){e.map.webMapDisplayedLayers=t},setWebMapLayersAndRest:function(e,t){e.map.webMapLayersAndRest=t},setWebMapLayersOpacity:function(e,t){e.map.webMapLayersAndRest.filter(function(e){return e.title===t.layerName})[0].opacity=t.opa},setLegend:function(e,t){e.map.webMapLayersAndRest.filter(function(e){return e.title===t.layerName})[0].legend=t.legend},setMapScale:function(e,t){e.map.scale=t},setDidToggleTopicsOn:function(e,t){e.didToggleTopicsOn=t},setShouldShowTopics:function(e,t){e.shouldShowTopics=t},setShouldShowMap:function(e,t){e.shouldShowMap=t},setWindowWidth:function(e,t){e.windowWidth=t},setRoute:function(e,t){e.route=t},setDidToggleModal:function(e,t){e.modals.open=t},setCandidates:function(e,t){e.candidates=t},setAddressEntered:function(e,t){e.addressEntered=t}}},i=Object(l["a"])(c["a"],n["a"].store);return i=Object(l["a"])(i,_["a"]),i=Object(l["a"])(i,o),i.state.map.center=e.map.center,i.state.map.zoom=e.map.zoom,i.state.pictometry.map.center=e.map.center,i.state.pictometry.map.zoom=e.map.zoom,new a["a"].Store({state:i.state,getters:i.getters,mutations:i.mutations})}i["a"].use(a["a"]);t["a"]=s},e370:function(e,t,o){"use strict";o("cadf"),o("551c"),o("f751"),o("097d");t["a"]=function(e,t){e.mixin({created:function(){this.$config=t}})}},f7e6:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"cell medium-auto grid-x",attrs:{id:"mb-root"}},[o("button",{staticClass:"small-24 button datasets-button",on:{click:e.toggleTopics}},[e._v("\n    "+e._s(this.buttonMessage)+"\n  ")]),o(e.topicPanelLoader,{directives:[{name:"show",rawName:"v-show",value:e.shouldShowTopics,expression:"shouldShowTopics"}],tag:"component"}),o(e.mapPanelLoader,{directives:[{name:"show",rawName:"v-show",value:e.shouldShowMap,expression:"shouldShowMap"}],tag:"component"},[this.shouldLoadCyclomediaWidget?o("cyclomedia-widget",{directives:[{name:"show",rawName:"v-show",value:e.cyclomediaActive,expression:"cyclomediaActive"}],attrs:{slot:"cycloWidget","screen-percent":"3"},slot:"cycloWidget"}):e._e(),this.shouldLoadPictometryWidget?o("pictometry-widget",{directives:[{name:"show",rawName:"v-show",value:e.pictometryActive,expression:"pictometryActive"}],attrs:{slot:"pictWidget",apiKey:this.ak,secretKey:this.sk},slot:"pictWidget"},[this.pictometryShowAddressMarker?o("pictometry-png-marker",{attrs:{latlng:[this.geocodeData.geometry.coordinates[1],this.geocodeData.geometry.coordinates[0]],icon:"markers.png",height:60,width:40,offsetX:0,offsetY:0}}):e._e(),this.pictometryActive?o("pictometry-layer"):e._e(),this.cyclomediaActive&&this.pictometryActive?o("pictometry-png-marker",{attrs:{latlng:e.cycloLatlng,icon:"camera2.png",height:20,width:30,offsetX:-2,offsetY:-2}}):e._e(),this.cyclomediaActive&&this.pictometryActive?o("pictometry-view-cone",{attrs:{latlng:e.cycloLatlng,rotationAngle:e.cycloRotationAngle,hFov:e.cycloHFov}}):e._e()],1):e._e()],1)],1)},a=[],r=o("e814"),n=o.n(r),_=(o("a481"),o("28a5"),o("5d73")),c=o.n(_),l=o("bc3a"),s=o.n(l),m={name:"Layerboard",components:{CyclomediaWidget:function(){return o.e("mbmb_pvm_CyclomediaWidget").then(o.bind(null,"cf49"))},PictometryWidget:function(){return Promise.all([o.e("lblb_MapPanelLoader~mbmb_pvm_PictometryWidget"),o.e("mbmb_pvm_PictometryWidget")]).then(o.bind(null,"51c8"))},PictometryLayer:function(){return o.e("mbmb_pvm_PictometryLayer").then(o.bind(null,"bdd0"))},PictometryPngMarker:function(){return o.e("mbmb_pvm_PictometryPngMarker").then(o.bind(null,"14d0"))},PictometryViewCone:function(){return o.e("mbmb_pvm_PictometryViewCone").then(o.bind(null,"e249"))}},mounted:function(){window.addEventListener("resize",this.handleWindowResize),this.handleWindowResize();var e=this.$store,t="https://api.knackhq.com/v1/objects/object_4/records/export?type=json",o={},i={"X-Knack-Application-Id":"550c60d00711ffe12e9efc64","X-Knack-REST-API-Key":"7bce4520-28dc-11e5-9f0a-4d758115b820"};s.a.get(t,{params:o,headers:i}).then(function(t){var o=t.data,i=o.records,a=i.filter(function(e){return"API"===e.field_12||"GeoService"===e.field_12}),r={},n=!0,_=!1,l=void 0;try{for(var s,m=c()(a);!(n=(s=m.next()).done);n=!0){var p=s.value,d=p.field_25.split('"')[1],u=void 0;u=d?d.split("query")[0].replace("https://","").replace("http://","").replace(/\/$/,"").toLowerCase():null,p.field_13_raw.length>0?r[u]=p.field_13_raw[0].id:r[u]=""}}catch(b){_=!0,l=b}finally{try{n||null==m.return||m.return()}finally{if(_)throw l}}e.commit("setBennyEndpoints",r)},function(e){console.log("AXIOS ERROR Layerboard.vue")})},computed:{mapPanelLoader:function(){return console.log("computed mapPanelLoader is running"),this.fullScreenTopicsOnly?void console.log("if this.fullScreenTopicsOnly is true, returning"):(console.log("else is true, importing mapPanel.vue"),function(){return Promise.all([o.e("lblb_MapPanelLoader~mbmb_pvm_PictometryWidget"),o.e("lblb_MapPanelLoader")]).then(o.bind(null,"0f0d")).then(console.log("after MapPanel import"))})},topicPanelLoader:function(){return this.fullScreenMapOnly?void console.log("if this.fullScreenMapOnly is true, returning"):(console.log("else is true, importing topicPanel.vue"),function(){return o.e("lblb_TopicPanelLoader").then(o.bind(null,"bc7a")).then(console.log("after TopicPanel import"))})},isMobileOrTablet:function(){return this.$store.state.isMobileOrTablet},shouldLoadCyclomediaWidget:function(){return this.$config.cyclomedia.enabled&&!this.isMobileOrTablet},shouldLoadPictometryWidget:function(){return this.$config.pictometry.enabled&&!this.isMobileOrTablet},fullScreenMapEnabled:function(){return this.$store.state.fullScreenMapEnabled},cyclomediaActive:function(){return this.$store.state.cyclomedia.active},cycloLatlng:function(){if(null!==this.$store.state.cyclomedia.orientation.xyz){var e=this.$store.state.cyclomedia.orientation.xyz;return[e[1],e[0]]}var t=this.$config.map.center;return t},cycloRotationAngle:function(){return 57.29577951307855*this.$store.state.cyclomedia.orientation.yaw},cycloHFov:function(){return this.$store.state.cyclomedia.orientation.hFov},pictometryActive:function(){return this.$store.state.pictometry.active},pictometryZoom:function(){return this.$store.state.pictometry.zoom},pictometryShowAddressMarker:function(){return!(!this.pictometryActive||!this.geocodeData)&&!(this.pictometryZoom<20&&this.cyclomediaActive)},geocodeData:function(){return this.$store.state.geocode.data},ak:function(){var e=window.location.hostname;return"atlas.phila.gov"===e?this.$config.pictometry.apiKey:"atlas-dev.phila.gov"===e?this.$config.pictometryDev.apiKey:"cityatlas.phila.gov"===e?this.$config.pictometryCity.apiKey:"cityatlas-dev.phila.gov"===e?this.$config.pictometryCityDev.apiKey:"10.8.101.67"===e?this.$config.pictometryLocal.apiKey:void 0},sk:function(){var e=window.location.hostname;return"atlas.phila.gov"===e?this.$config.pictometry.secretKey:"atlas-dev.phila.gov"===e?this.$config.pictometryDev.secretKey:"cityatlas.phila.gov"===e?this.$config.pictometryCity.secretKey:"cityatlas-dev.phila.gov"===e?this.$config.pictometryCityDev.secretKey:"10.8.101.67"===e?this.$config.pictometryLocal.secretKey:void 0},windowWidth:function(){return this.$store.state.windowWidth},windowHeight:function(){return this.$store.state.windowSize.height},didToggleTopicsOn:function(){return this.$store.state.didToggleTopicsOn},buttonMessage:function(){return this.didToggleTopicsOn?"See Map":"See Datasets"},shouldShowTopics:function(){return this.$store.state.shouldShowTopics},shouldShowMap:function(){return this.$store.state.shouldShowMap}},watch:{pictometryShowAddressMarker:function(e){},windowWidth:function(e){this.calculateShouldShowTopics(),this.calculateShouldShowMap()},fullScreenMapEnabled:function(e){this.calculateShouldShowTopics(),this.calculateShouldShowMap()},didToggleTopicsOn:function(e){this.calculateShouldShowTopics(),this.calculateShouldShowMap()},shouldShowTopics:function(e){this.handleWindowResize()},shouldShowMap:function(e){this.handleWindowResize()}},methods:{toggleTopics:function(){var e=this.$store.state.didToggleTopicsOn;this.$store.commit("setDidToggleTopicsOn",!e)},calculateShouldShowTopics:function(){var e=this.windowWidth,t=e<750,o=this.$store.state.didToggleTopicsOn,i=this.$store.state.fullScreenMapEnabled,a=!t&&!i||t&&o;this.$store.commit("setShouldShowTopics",a)},calculateShouldShowMap:function(){var e=this.windowWidth,t=e>750,o=this.$store.state.didToggleTopicsOn,i=t||!o;this.$store.commit("setShouldShowMap",i)},handleWindowResize:function(){var e=document.getElementById("mb-root"),t=window.getComputedStyle(e),o=t.getPropertyValue("width"),i=n()(o.replace("px",""));this.$store.commit("setWindowWidth",i)}}},p=m,d=(o("1e32"),o("2877")),u=Object(d["a"])(p,i,a,!1,null,null,null);t["a"]=u.exports}});
//# sourceMappingURL=app.c2ae6603.js.map